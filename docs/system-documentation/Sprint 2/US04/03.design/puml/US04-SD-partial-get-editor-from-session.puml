@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

participant ":CreateScenarioController" as CTRL
participant "ApplicationSession" as APP_SESSION
participant "appSession\n:ApplicationSession" as APP_SESSION_SINGLETON
participant "currentSession\n:UserSession" as CURRENT_SESSION
participant "Repositories" as REPOS
participant "repositories\n:Repositories" as REPOS_SINGLETON
participant "editorRepository\n:EditorRepository" as EDITOR_REPO

autonumber 18
-> CTRL : getEditorFromSession()
autonumber 18.1
activate CTRL
    group Get Editor From Session
        CTRL -> APP_SESSION: getInstance()
        activate APP_SESSION
            APP_SESSION --> CTRL: appSession
        deactivate APP_SESSION

        CTRL -> APP_SESSION_SINGLETON: getCurrentSession()
        activate APP_SESSION_SINGLETON
            APP_SESSION_SINGLETON --> CTRL: currentSession
        deactivate APP_SESSION_SINGLETON

        CTRL -> CURRENT_SESSION: getUsername()
        activate CURRENT_SESSION
            CURRENT_SESSION --> CTRL: username
        deactivate CURRENT_SESSION

        CTRL -> REPOS : getInstance()
        activate REPOS
            REPOS --> CTRL: repositories
        deactivate REPOS

        CTRL -> REPOS_SINGLETON: getEditorRepository()
        activate REPOS_SINGLETON
            REPOS_SINGLETON --> CTRL: editorRepository
        deactivate REPOS_SINGLETON

        CTRL -> EDITOR_REPO: getEditorByUsername(username)
        activate EDITOR_REPO
            EDITOR_REPO --> CTRL: editor
        deactivate EDITOR_REPO
    end

    autonumber 19
    <-- CTRL : editor
deactivate CTRL

@enduml 