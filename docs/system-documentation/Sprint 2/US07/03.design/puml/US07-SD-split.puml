@startuml

skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
autonumber

title System Sequence Diagram : US07 - List stations and view details

actor "Player" as Player
participant ListStationUI
participant ListStationController
participant MapRepository
participant ApplicationSession

activate Player
Player -> ListStationUI : asks to see available maps
        activate ListStationUI
        ListStationUI --> ListStationController : getAvailableMaps()
        activate ListStationController

        ref over ListStationController
        GetAvailableMaps
        end
        ListStationController --> ListStationUI : availableMapsList
        deactivate ListStationController

        ListStationUI --> Player: shows list of available maps
        deactivate ListStationUI
        
        Player -> ListStationUI: selects a map
        activate ListStationUI
        ListStationUI --> ListStationController: loadMap(mapId)
        activate ListStationController
        
        ref over ListStationController
        LoadMap
        end
        
        ListStationController --> ListStationUI: selectedMap
        deactivate ListStationController
        ListStationUI --> Player: loads and displays the selected map
        deactivate ListStationUI

Player -> ListStationUI : request to see available stations
        activate ListStationUI
        ListStationUI --> ListStationController: getStations(mapId)
        activate ListStationController
        
        ref over ListStationController
        GetStations
        end
        
        ListStationController --> ListStationUI: stationsList
        deactivate ListStationController
        
        ListStationUI --> Player : displays list of available stations
        ListStationUI --> Player : requests to select a specific station
        deactivate ListStationUI

Player -> ListStationUI : selects a specific station
        activate ListStationUI
        ListStationUI --> ListStationController: getStationDetails(stationId)
        activate ListStationController
        
        ref over ListStationController
        GetStationDetails
        end
        
        ListStationController --> ListStationUI: stationDetails
        deactivate ListStationController
        
        ListStationUI --> Player : show station details
        deactivate ListStationUI

@enduml 