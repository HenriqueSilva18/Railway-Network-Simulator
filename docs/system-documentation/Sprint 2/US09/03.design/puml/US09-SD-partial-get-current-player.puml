@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

'hide footbox
participant ":BuyLocomotiveController" as CTRL
participant "ApplicationSession" as APP_SESSION
participant "appSession\n:ApplicationSession" as APP_SESSION_SINGLETON
participant "currentSession\n:UserSession" as CURRENT_SESSION

activate CTRL
    CTRL -> APP_SESSION : getInstance()
    activate APP_SESSION
        APP_SESSION --> CTRL : appSession
    deactivate APP_SESSION

    CTRL -> APP_SESSION_SINGLETON : getCurrentSession()
    activate APP_SESSION_SINGLETON
        APP_SESSION_SINGLETON --> CTRL : currentSession
    deactivate APP_SESSION_SINGLETON

    CTRL -> CURRENT_SESSION : getCurrentPlayer()
    activate CURRENT_SESSION
        CURRENT_SESSION --> CTRL : player
    deactivate CURRENT_SESSION
deactivate CTRL
@enduml