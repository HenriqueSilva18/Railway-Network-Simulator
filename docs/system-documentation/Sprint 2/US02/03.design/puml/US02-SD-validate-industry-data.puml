@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

participant ":CreateMapController" as CTRL
participant "Repositories" as REPOS
participant "repositories\n:Repositories" as REPOS_SINGLETON
participant "map\n:Map" as MAP
participant "mapRepository\n:MapRepository" as REPOS_MAP
participant "ApplicationSession" as APP_SESSION

autonumber 9
-> CTRL: validateIndustry(nameID, x, y)
        activate CTRL
        autonumber 9.1
        group Validate Industry Data
            CTRL -> APP_SESSION: getInstance()
            activate APP_SESSION
                APP_SESSION --> CTRL: cMap = appSession
            deactivate APP_SESSION

            CTRL -> REPOS_SINGLETON: getIMapRepository()
            activate REPOS_SINGLETON
                REPOS_SINGLETON --> CTRL: mapRepository
            deactivate REPOS_SINGLETON

            CTRL -> REPOS_MAP: getCurrentMap(cMap)
            activate REPOS_MAP
                REPOS_MAP --> CTRL: map
            deactivate REPOS_MAP

            CTRL -> MAP: isCellEmpty(x, y)
            activate MAP
                MAP --> CTRL: cellIsEmpty
            deactivate MAP

        end
        autonumber 10
        <-- CTRL: success
deactivate CTRL



@enduml