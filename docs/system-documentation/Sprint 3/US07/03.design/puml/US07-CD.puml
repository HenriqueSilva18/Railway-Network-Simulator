@startuml

skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline
skinparam classAttributeIconSize 0

title Class Diagram: US07 - List Stations and View Details

class StationMapper {
  +toDTO(station) : StationDTO
}

class StationDTO {
  -id : String
  -name : String
  -storageCapacity : int
  -buildingSlots : int
  -availableCargo : List<CargoDTO>
  -requestedCargo : List<CargoDTO>
}

class ListStationController {
  +getAvailableMaps() : List<Map>
  +loadMap(mapId) : Map
  +getStations(mapId) : List<Station>
  +getStationDetails(stationId) : StationDetails
}

class Repositories {
  -mapRepository : MapRepository
  +getInstance() : Repositories
  +mapRepository() : MapRepository
}

class MapRepository {
  +getMaps() : List<Map>
  +findMap(mapId) : Map
}

class Map {
  -nameID : String
  -cityList : List<City>
  -industryList : List<Industry>
  -size : Size
  +getCities() : List<City>
}

class Maps {
  +getListOfMaps() : List<Map>
  +getMap(mapId : String) : Map
}

class City {
  -name : String
  -position : Position
  -stations : List<Station>
  +getStations() : List<Station>
}

class Cities {
  +getCities() : List<City>
}

class Size {
  -width : int
  -height : int
  +getWidth() : int
  +getHeight() : int
}

class Station {
  -nameID : String
  -storageCapacity : int
  -buildingSlots : int
  -availableCargo : List<Cargo>
  -requestedCargo : List<Cargo>
  +getDetails() : StationDetails
  +getBuildings() : List<Building>
  +getDemandedCargo() : List<Cargo>
  +getSupplyCargo() : List<Cargo>
}

class StationType {
  -name : String
  -economicRadius : int
  -cost : int
  -centerPoint : Position
}

class Building {
  -nameID : String
  -type : String
  -availabilityYear : int
  -evolutionCost : int
  -evolutionStagesLeft : int
  -effect : String
}

class Cargo {
  -name : String
  -amount : int
  -lifespan : int
  -type : String
  -productionResources : List<Resource>
}

class Position {
  -x : int
  -y : int
  -occupied : boolean
  +isOccupied() : boolean
  +setOccupied(occupied : boolean) : void
}

class MapDTO {
  -id : String
  -size : Size

}

class ListStationUI {
}

' Relationships
ListStationUI ..> ListStationController
ListStationController ..> StationMapper
ListStationController ..> MapRepository
ListStationController ..> MapMapper
MapMapper ..> MapDTO
ListStationController ..> Repositories
MapRepository ..> Maps
Maps ..> Map
Map ..> Cities
Repositories --> MapRepository : mapRepository
Cities "1" *-- "*" City : contains
Map "1" *-- "1" Size : has
City "1" *-- "*" Station : contains
StationMapper --> StationDTO : converts to
Station "*" --> "1" StationType : defined by
Station "1" *-- "*" Building : contains
Station "1" *-- "*" Cargo : stores
Station "1" --> "1" Position : located at
Map "1" --> "*" Position : tracks

@enduml
