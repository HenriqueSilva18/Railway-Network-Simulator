@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline

skinparam classAttributeIconSize 0

class AddIndustryUI {
}

class AddIndustryController {
    + getListOfMaps()
    + loadMap(mapDTO)
    + getListOfIndustrySectors()
    + addIndustry(nameID, x, y, sector, availabilityYear, suppliedCargo, demandedCargo)
    + createAndAddIndustry(currentMap, industryDTO)
}

class Repositories {
    - Repositories()
    + {static} getInstance()
    + getMapRepository()
    + getIndustrySectorRepository()
}

class ApplicationSession {
}

class MapRepository {
    + getListOfMaps()
    + getMapById(mapId)
}

class IndustrySectorRepository {
    + getListOfIndustrySectors()
}

class Maps {
    + getListOfMaps()
    + getMapById(mapId)
    + createAndAddIndustry(currentMap, industryDTO)
}

class Map {
    - nameID : String
    + getMapLayout()
    + createAndAddIndustry(industryDTO)
}

class IndustrySectors {
    + getListOfIndustrySectors()
}

class IndustrySector {
    - nameID : String
    - type : String
}

class Industries {
    + addIndustry(industryDTO)
    + add(industry)
}

class Industry {
    - nameID : String
    - type : String
    - position : Position
    - availabilityYear : int
    - demandedCargo : List<String>
    - suppliedCargo : List<String>
}

class Positions {
    + isPositionAvailable(x, y)
    + setOccupied(x, y)
}

class Position {
    - x : double
    - y : double
    - occupied : boolean
    + isAvailable()
    + setOccupied()
}

class MapDTO {
    - nameID : String
    - scale : double
    + getNameID()
}

class IndustrySectorDTO {
    - nameID : String
    - type : String
}

class IndustryDTO {
    - nameID : String
    - type : String
    - x : double
    - y : double
    - availabilityYear : int
    - demandedCargo : List<String>
    - suppliedCargo : List<String>
    + getNameID()
    + getType()
    + getPosition()
    + getAvailabilityYear()
    + getDemandedCargo()
    + getSuppliedCargo()
    + getX()
    + getY()
}

class MapMapper {
    + toMapDTOs(List<Map>)
    + toDTO(Map)
}

class IndustrySectorMapper {
    + toDTO(List<IndustrySector>)
    + toDTO(IndustrySector)
}

class IndustryMapper {
    + toDomain(IndustryDTO)
    + toDTO(List<Industry>)
    + toDTO(Industry)
}

' UI and Controller relationships
AddIndustryUI "1" --> "1" AddIndustryController
AddIndustryController "1" --> "1" Repositories : uses
AddIndustryController "1" --> "1" ApplicationSession

' Repository relationships
Repositories "1" --> "1" MapRepository
Repositories "1" --> "1" IndustrySectorRepository

' Domain model relationships
MapRepository "1" --> "1" Maps : contains
Maps "1" --> "*" Map : has

Map "1" --> "1" Industries : contains
Map "1" --> "1" Positions : has

Industries "1" --> "*" Industry : has
Positions "1" --> "*" Position : has

IndustrySectorRepository "1" --> "1" IndustrySectors : contains
IndustrySectors "1" --> "*" IndustrySector : has

' DTO relationships
AddIndustryController "1" --> "1" MapDTO : uses
AddIndustryController "1" --> "1" IndustryDTO : uses
AddIndustryController "1" --> "*" IndustrySectorDTO : uses

' Mapper relationships
MapRepository "1" --> "1" MapMapper : uses
IndustrySectorRepository "1" --> "1" IndustrySectorMapper : uses
AddIndustryController "1" --> "1" IndustryMapper : uses

' Mapper to Domain/DTO relationships
MapMapper "1" --> "1" Map : maps
MapMapper "1" --> "1" MapDTO : maps to

IndustrySectorMapper "1" --> "1" IndustrySector : maps
IndustrySectorMapper "1" --> "1" IndustrySectorDTO : maps to

IndustryMapper "1" --> "1" Industry : maps
IndustryMapper "1" --> "1" IndustryDTO : maps to

' Position relationship with Industry
Industry "1" --> "1" Position : occupies

@enduml