@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Editor" as EDITOR

participant ":CreateScenarioUI" as UI
participant ":CreateScenarioController" as CTRL
participant ":MapDTO" as MAP_DTO
participant ":ScenarioDTO" as DTO

activate EDITOR

    EDITOR -> UI : asks to create a scenario

    activate UI

        UI --> CTRL** : create()
        UI -> CTRL : getListOfMaps()
        ref over CTRL
            Get MapDTO List
        end ref

        activate CTRL

            CTRL --> UI : listMapDTO
        deactivate CTRL

        UI --> EDITOR : shows map list and asks to select one
    deactivate UI

    EDITOR -> UI : selects a map
    activate UI

        UI --> EDITOR : requests data (name, start date, end date)
    deactivate UI

    EDITOR -> UI : types requested data
    activate UI

        UI -> DTO** : createScenarioDTO(name, start date, end date)

        UI -> CTRL : getListOfLocomotiveTypes()
        activate CTRL

                ref over CTRL
                    Get Locomotive Type List
                end ref

        CTRL -> UI : locomotiveTypeList
        deactivate CTRL

        UI --> EDITOR : shows a list of locomotive types\nand asks to select the available ones
    deactivate UI

    EDITOR -> UI : selects available locomotive types
    activate UI

        UI -> DTO : addLocomotiveTypes(locomotiveTypes)





            UI -> MAP_DTO : getListOfIndustries(mapDTO)
            activate MAP_DTO

                ref over MAP_DTO
                    Get IndustryDTO List
                end ref

            MAP_DTO -> UI : listIndustryDTO
            deactivate MAP_DTO

        UI -> EDITOR : shows list of industries\nand requests data (available industries, \n ports behavior, generation factors)
        deactivate UI


    EDITOR -> UI : types requested data
    activate UI

        UI -> DTO : addIndustries(industryList, portsBehavior, generationFactors)
        activate DTO

                ref over DTO
                    Configure Industries
                end ref

        DTO -> UI : success
        deactivate DTO

        UI -> EDITOR : show all data and requests confirmation
        deactivate UI


        EDITOR -> UI : confirms data
        activate UI

            UI -> CTRL : CreateScenario(scenarioDTO)
            activate CTRL

                ref over CTRL
                    Create Scenario Object
                end ref

                ref over CTRL
                    Add Scenario to Map
                end ref


            CTRL -> UI : success
            deactivate CTRL

        UI -> EDITOR : displays operation success
        deactivate UI




deactivate EDITOR

@enduml