@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline

skinparam classAttributeIconSize 0

class StationBuildingUI {
}

class StationBuildingController {
    + getStationTypes()
    + getAvailableBuildings()
    + getClosestCity(positionDTO)
    + buildStation(stationDTO)
}

class Repositories {
    - Repositories()
    + {static} getInstance()
    + getStationTypeRepository()
    + getBuildingRepository()
    + getCityRepository()
    + getStationRepository()
}

class StationTypeRepository {
    + getListOfStationTypes()
}

class BuildingRepository {
    + getListOfBuildings()
}

class CityRepository {
    + getListOfCities()
}

class StationRepository {
    + createStation(stationDTO)
}

class StationTypes {
    + getListOfStationTypes()
}

class Buildings {
    + getListOfBuildings()
}

class Cities {
    + getListOfCities()
}

class Stations {
    + createStation(stationDTO)
    + addStation(station)
    + validateStation(station)
}

class Station {
    - stationType : StationType
    - position : Position
    - defaultBuilding : Building
    - proposedName : String
}

class StationType {
    - nameID : String
    - cost : double
    - economicRadius : double
}

class Building {
    - nameID : String
    - cost : double
}

class City {
    - nameID : String
    - position : Position
}

class Position {
    - x : double
    - y : double
}

class StationDTO {
    - stationType : StationTypeDTO
    - position : PositionDTO
    - defaultBuilding : BuildingDTO
    - proposedName : String
}

class StationTypeDTO {
    - nameID : String
    - cost : double
    - economicRadius : double
}

class BuildingDTO {
    - nameID : String
    - cost : double
}

class PositionDTO {
    - x : double
    - y : double
}

class StationMapper {
    + toModel(stationDTO)
    + toDTO(List<Station>)
    + toDTO(Station)
    + getStationType()
    + getPosition()
    + getDefaultBuilding()
    + getProposedName()
}

class StationTypeMapper {
    + toDTO(List<StationType>)
    + toDTO(StationType)
}

class BuildingMapper {
    + toDTO(List<Building>)
    + toDTO(Building)
}

class CityMapper {
    + toDTO(List<City>)
    + toDTO(City)
}

StationBuildingUI "1" --> "1" StationBuildingController
StationBuildingController "1" --> "1" Repositories : repositories
StationBuildingController "1" --> "1" StationDTO

Repositories "1" --> "1" StationTypeRepository
Repositories "1" --> "1" BuildingRepository
Repositories "1" --> "1" CityRepository
Repositories "1" --> "1" StationRepository

StationTypeRepository "1" --> "1" StationTypes : stationTypes
BuildingRepository "1" --> "1" Buildings : buildings
CityRepository "1" --> "1" Cities : cities
StationRepository "1" --> "1" Stations : stations

StationTypes "1" --> "*" StationType : stationTypes
Buildings "1" --> "*" Building : buildings
Cities "1" --> "*" City : cities
Stations "1" --> "*" Station : stations

Station "1" --> "1" StationType : stationType
Station "1" --> "1" Position : position
Station "1" --> "1" Building : defaultBuilding
City "1" --> "1" Position : position

StationDTO "1" --> "1" StationTypeDTO : stationType
StationDTO "1" --> "1" PositionDTO : position
StationDTO "1" --> "1" BuildingDTO : defaultBuilding

StationMapper "1" --> "1" Station : maps
StationMapper "1" --> "1" StationDTO : maps to

StationTypeMapper "1" --> "1" StationType : maps
StationTypeMapper "1" --> "1" StationTypeDTO : maps to

BuildingMapper "1" --> "1" Building : maps
BuildingMapper "1" --> "1" BuildingDTO : maps to

CityMapper "1" --> "1" City : maps
CityMapper "1" --> "1" CityDTO : maps to

StationTypeRepository "1" --> "1" StationTypeMapper : uses
BuildingRepository "1" --> "1" BuildingMapper : uses
CityRepository "1" --> "1" CityMapper : uses
StationRepository "1" --> "1" StationMapper : uses

@enduml
