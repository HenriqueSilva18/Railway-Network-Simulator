@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline

skinparam classAttributeIconSize 0

class StationBuildingUI {
    + getStationTypes()
    + buildStation()
}

class StationBuildingController {
    + getStationTypes()
    + getAvailableBuildings()
    + getClosestCity(position: Position)
    + buildStation(stationDTO: StationDTO)
    - calculateDistance(position1: Position, position2: Position)
    - updateClosestCity(city: City, distance: double)
    - getClosestCityName(): String
}

class StationDTO {
    + getStationType(): StationType
    + getPosition(): Position
    + getDefaultBuilding(): BuildingDTO
    + getProposedName(): String
    + setCenterPoint(centerPoint: String)
    + setDefaultBuilding(buildingDTO: BuildingDTO)
    + setProposedName(cityName: String)
    + setPosition(position: Position)
}

class Position {
    + getX(): int
    + getY(): int
    + setOccupied(occupied: boolean)
}

class StationTypeDTO {
    + getType(): String
}

class BuildingDTO {
    + getName(): String
}

class StationType {
    + getType(): String
}

class Building {
    + getName(): String
}

class Station {
    + occupyPosition()
}

class City {
    + getPosition(): Position
    + getName(): String
}

class StationTypeMapper {
    + toDTO(stationType: StationType): StationTypeDTO
}

class BuildingMapper {
    + toDTO(building: Building): BuildingDTO
}

class StationMapper {
    + toModel(stationDTO: StationDTO): Station
}

class StationTypeRepository {
    + getListOfStationTypes(): List<StationType>
}

class BuildingRepository {
    + getListOfBuildings(): List<Building>
}

class MapRepository {
    + getListOfCities(): List<City>
    + createStation(stationDTO: StationDTO): boolean
}

class Repositories {
    + {static} getInstance(): Repositories
    + getStationTypeRepository(): StationTypeRepository
    + getBuildingRepository(): BuildingRepository
    + getMapRepository(): MapRepository
}

class StationTypes {
    + getListOfStationTypes(): List<StationType>
}

class Buildings {
    + getListOfBuildings(): List<Building>
}

class Maps {
    + getListOfCities(): List<City>
    + createStation(stationDTO: StationDTO): boolean
}

class Map {
    + getListOfCities(): List<City>
    + createStation(stationDTO: StationDTO): boolean
}

class Scenarios {
    + createStation(stationDTO: StationDTO): boolean
}

class Scenario {
    + createStation(stationDTO: StationDTO): boolean
}

class Stations {
    + createStation(stationDTO: StationDTO): boolean
    + addStation(station: Station): boolean
    + validateStation(station: Station): boolean
}

class Cities {
    + getListOfCities(): List<City>
}

' Relationships
StationBuildingUI --> StationBuildingController
StationBuildingController --> StationDTO
StationBuildingController --> Position
StationBuildingController --> StationTypeDTO
StationBuildingController --> BuildingDTO
StationBuildingController --> City
StationBuildingController --> Repositories

StationDTO --> Position
StationDTO --> StationTypeDTO
StationDTO --> BuildingDTO

Repositories --> StationTypeRepository
Repositories --> BuildingRepository
Repositories --> MapRepository

StationTypeRepository --> StationTypes
BuildingRepository --> Buildings
MapRepository --> Maps

Maps --> Map
Map --> Scenarios
Scenarios --> Scenario
Scenario --> Stations
Map --> Cities

StationTypeMapper ..> StationType
StationTypeMapper ..> StationTypeDTO
BuildingMapper ..> Building
BuildingMapper ..> BuildingDTO
StationMapper ..> StationDTO
StationMapper ..> Station

@enduml
