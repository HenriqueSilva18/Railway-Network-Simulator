<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="playerMainPane" prefHeight="1080.0" prefWidth="1920.0" style="-fx-background-color: linear-gradient(to bottom, #667eea 0%, #764ba2 100%);" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="pt.ipp.isep.dei.ui.gui.controller.PlayerMenuGUIController">

    <top>
        <VBox style="-fx-background-color: rgba(255, 255, 255, 0.15); -fx-border-color: rgba(255, 255, 255, 0.3); -fx-border-width: 0 0 1 0;">
            <children>
                <MenuBar style="-fx-background-color: transparent; -fx-border-width: 0;">
                    <menus>
                        <Menu mnemonicParsing="false" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="File">
                            <items>
                                <MenuItem fx:id="selectMapScenarioMenuItem" mnemonicParsing="false" onAction="#handleSelectMapScenario" text="Select Map and Scenario..." />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem fx:id="saveGameMenuItem" mnemonicParsing="false" onAction="#handleSaveGame" text="Save Game" />
                                <MenuItem fx:id="loadGameMenuItem" mnemonicParsing="false" onAction="#handleLoadGame" text="Load Game" />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem fx:id="logoutMenuItem" mnemonicParsing="false" onAction="#handleLogout" text="Logout" />
                            </items>
                        </Menu>
                        <Menu mnemonicParsing="false" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="Infrastructure">
                            <items>
                                <MenuItem fx:id="buildStationMenuItem" mnemonicParsing="false" onAction="#handleBuildStation" text="Build Station..." />
                                <MenuItem fx:id="upgradeStationMenuItem" mnemonicParsing="false" onAction="#handleUpgradeStation" text="Upgrade Station..." />
                                <MenuItem fx:id="buildRailwayLineMenuItem" mnemonicParsing="false" onAction="#handleBuildRailwayLine" text="Build Railway Line..." />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem fx:id="listStationsMenuItem" mnemonicParsing="false" onAction="#handleListStations" text="View Stations Details" />
                            </items>
                        </Menu>
                        <Menu mnemonicParsing="false" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="Operations">
                            <items>
                                <MenuItem fx:id="buyLocomotiveMenuItem" mnemonicParsing="false" onAction="#handleBuyLocomotive" text="Buy Locomotive..." />
                                <MenuItem fx:id="createRouteMenuItem" mnemonicParsing="false" onAction="#handleCreateRoute" text="Create Route..." />
                                <MenuItem fx:id="assignTrainMenuItem" mnemonicParsing="false" onAction="#handleAssignTrainToRoute" text="Assign Train to Route..." />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem fx:id="listTrainsMenuItem" mnemonicParsing="false" onAction="#handleListTrains" text="View Trains Details" />
                            </items>
                        </Menu>
                        <Menu mnemonicParsing="false" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="View">
                            <items>
                                <MenuItem fx:id="viewCurrentMapMenuItem" mnemonicParsing="false" onAction="#handleViewCurrentMap" text="View Current Map" />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem fx:id="viewConnectivityMenuItem" mnemonicParsing="false" onAction="#handleViewConnectivity" text="Check Network Connectivity..." />
                                <MenuItem fx:id="viewMaintenanceRouteMenuItem" mnemonicParsing="false" onAction="#handleViewMaintenanceRoute" text="View Maintenance Route..." />
                                <MenuItem fx:id="viewShortestRouteMenuItem" mnemonicParsing="false" onAction="#handleViewShortestRoute" text="Find Shortest Route..." />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem fx:id="viewFinancialResultsMenuItem" mnemonicParsing="false" onAction="#handleViewFinancialResults" text="View Year Financial Results" />
                            </items>
                        </Menu>
                        <Menu mnemonicParsing="false" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="Simulator">
                            <items>
                                <MenuItem fx:id="runPauseSimulatorMenuItem" mnemonicParsing="false" onAction="#handleRunPauseSimulator" text="Play/Pause Simulator" />
                                <MenuItem fx:id="simulationControlMenuItem" mnemonicParsing="false" onAction="#handleSimulationCardClick" text="Simulation Settings" />
                            </items>
                        </Menu>
                        <Menu mnemonicParsing="false" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px;" text="Help">
                            <items>
                                <MenuItem fx:id="aboutMenuItem" mnemonicParsing="false" onAction="#handleAbout" text="About" />
                            </items>
                        </Menu>
                    </menus>
                </MenuBar>

                <HBox alignment="CENTER" spacing="20.0" style="-fx-background-color: rgba(255, 255, 255, 0.1);">
                    <padding>
                        <Insets bottom="15.0" left="20.0" right="20.0" top="15.0" />
                    </padding>
                    <children>
                        <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Railway Management System" />
                        <Pane HBox.hgrow="ALWAYS" />
                        <VBox alignment="CENTER_RIGHT" spacing="5.0">
                            <children>
                                <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Welcome, Player!" />
                                <Label style="-fx-font-size: 12px; -fx-text-fill: rgba(255, 255, 255, 0.8); -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Manage your railway empire" />
                            </children>
                        </VBox>
                    </children>
                </HBox>
            </children>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true" style="-fx-background: transparent; -fx-background-color: transparent;">
            <content>
                <VBox alignment="TOP_CENTER" spacing="30.0" style="-fx-background-color: transparent;">
                    <padding>
                        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                    </padding>
                    <children>
                        <GridPane hgap="30" vgap="30" alignment="CENTER" maxWidth="1200" style="-fx-padding: 30;">
                            <columnConstraints>
                                <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="500" />
                                <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="500" />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints vgrow="ALWAYS" minHeight="200" />
                                <RowConstraints vgrow="ALWAYS" minHeight="200" />
                            </rowConstraints>

                            <VBox fx:id="infrastructureCard" alignment="CENTER" spacing="10.0" style="-fx-background-color: rgba(255, 255, 255, 0.95); -fx-background-radius: 15px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 15, 0, 0, 5); -fx-cursor: hand;" GridPane.columnIndex="0" GridPane.rowIndex="0" onMouseClicked="#handleInfrastructureCardClick">
                                <padding>
                                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                                </padding>
                                <children>
                                    <ImageView fitHeight="48.0" fitWidth="48.0" preserveRatio="true">
                                        <image>
                                            <Image url="@../images/worker.png" />
                                        </image>
                                    </ImageView>
                                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Manage Infrastructure" />
                                    <Label style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Build stations, upgrade facilities, and expand your railway network" textAlignment="CENTER" wrapText="true" />
                                </children>
                            </VBox>

                            <VBox fx:id="operationsCard" alignment="CENTER" spacing="10.0" style="-fx-background-color: rgba(255, 255, 255, 0.95); -fx-background-radius: 15px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 15, 0, 0, 5); -fx-cursor: hand;" GridPane.columnIndex="1" GridPane.rowIndex="0" onMouseClicked="#handleOperationsCardClick">
                                <padding>
                                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                                </padding>
                                <children>
                                    <ImageView fitHeight="48.0" fitWidth="48.0" preserveRatio="true">
                                        <image>
                                            <Image url="@../images/train1.png" />
                                        </image>
                                    </ImageView>
                                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Fleet Management" />
                                    <Label style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Purchase locomotives, create routes, and manage train assignments" textAlignment="CENTER" wrapText="true" />
                                </children>
                            </VBox>

                            <VBox fx:id="simulationCard" alignment="CENTER" spacing="10.0" style="-fx-background-color: rgba(255, 255, 255, 0.95); -fx-background-radius: 15px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 15, 0, 0, 5); -fx-cursor: hand;" GridPane.columnIndex="0" GridPane.rowIndex="1" onMouseClicked="#handleSimulationCardClick">
                                <padding>
                                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                                </padding>
                                <children>
                                    <ImageView fitHeight="48.0" fitWidth="48.0" preserveRatio="true">
                                        <image>
                                            <Image url="@../images/start_pause.png" />
                                        </image>
                                    </ImageView>
                                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Simulation Control" />
                                    <Label style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Start, pause, and control the railway simulation system" textAlignment="CENTER" wrapText="true" />
                                </children>
                            </VBox>

                            <VBox fx:id="financialCard" alignment="CENTER" spacing="10.0" style="-fx-background-color: rgba(255, 255, 255, 0.95); -fx-background-radius: 15px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 15, 0, 0, 5); -fx-cursor: hand;" GridPane.columnIndex="1" GridPane.rowIndex="1" onMouseClicked="#handleFinancialCardClick">
                                <padding>
                                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                                </padding>
                                <children>
                                    <ImageView fitHeight="48.0" fitWidth="48.0" preserveRatio="true">
                                        <image>
                                            <Image url="@../images/bag_money.png" />
                                        </image>
                                    </ImageView>
                                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Financial Reports" />
                                    <Label style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="View financial results and analyze business performance" textAlignment="CENTER" wrapText="true" />
                                </children>
                            </VBox>
                        </GridPane>

                        <StackPane fx:id="contentArea" VBox.vgrow="ALWAYS"> <padding>
                            <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                        </padding>
                            <children>
                            </children>
                        </StackPane>
                    </children>
                </VBox>
            </content>
        </ScrollPane>
    </center>

    <bottom>
        <HBox alignment="CENTER_LEFT" prefHeight="50.0" spacing="20.0" style="-fx-background-color: rgba(255, 255, 255, 0.95); -fx-border-color: rgba(0, 0, 0, 0.1); -fx-border-width: 1 0 0 0; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, -2);">
            <padding>
                <Insets left="20.0" right="20.0" />
            </padding>
            <children>
                <HBox alignment="CENTER_LEFT" spacing="8.0" style="-fx-background-color: rgba(102, 126, 234, 0.1); -fx-background-radius: 20px; -fx-padding: 8px 15px;">
                    <children>
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                            <image>
                                <Image url="@../images/bag_money.png" />
                            </image>
                        </ImageView>
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Budget:" />
                        <Label fx:id="budgetLabel" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #667eea; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="N/A" />
                    </children>
                </HBox>

                <HBox alignment="CENTER_LEFT" spacing="8.0" style="-fx-background-color: rgba(0, 100, 0, 0.08); -fx-background-radius: 20px; -fx-padding: 8px 15px; -fx-border-color: rgba(0,100,0,0.2); -fx-border-radius: 20px;">
                    <children>
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                            <image>
                                <Image url="@../images/world_map.png"/>
                            </image>
                        </ImageView>
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" text="Mapa Ativo:"/>
                        <Label fx:id="mapInfoPlaceholder" style="-fx-font-size: 14px; -fx-font-weight: normal; -fx-text-fill: #7f8c8d; -fx-font-style: italic;" text="Nenhum Selecionado"/>
                    </children>
                </HBox>

                <Pane HBox.hgrow="ALWAYS" />

                <HBox alignment="CENTER_RIGHT" spacing="8.0" style="-fx-background-color: rgba(118, 75, 162, 0.1); -fx-background-radius: 20px; -fx-padding: 8px 15px;">
                    <children>
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                            <image>
                                <Image url="@../images/clock.png" />
                            </image>
                        </ImageView>
                        <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Simulator Time:" />
                        <Label fx:id="simulatorTimeLabel" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #764ba2; -fx-font-family: 'Segoe UI', 'Arial', sans-serif;" text="Paused" />
                    </children>
                </HBox>
            </children>
        </HBox>
    </bottom>
</BorderPane>